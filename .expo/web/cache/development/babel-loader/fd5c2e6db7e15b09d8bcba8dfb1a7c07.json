{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/thebeliverbot/Desktop/practice-stuff/news-app/components/Search.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useContext, useState } from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { NewsContext } from \"../API/Context\";\nimport SingleNews from \"./SingleNews\";\nimport { Entypo } from \"@expo/vector-icons\";\n\nvar Search = function Search() {\n  var _useContext = useContext(NewsContext),\n      darkTheme = _useContext.darkTheme,\n      articles = _useContext.news.articles;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchResults = _useState2[0],\n      setSearchResults = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentNews = _useState6[0],\n      setCurrentNews = _useState6[1];\n\n  var handleSearch = function handleSearch(text) {\n    if (!text) {\n      setSearchResults([]);\n      return;\n    }\n\n    setSearchResults(articles.filter(function (query) {\n      return query.title.includes(text);\n    }));\n  };\n\n  var handleModal = function handleModal(n) {\n    setModalVisible(true);\n    setCurrentNews(n);\n  };\n\n  return React.createElement(View, {\n    style: {\n      width: \"100%\",\n      position: \"relative\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    style: _objectSpread(_objectSpread({}, styles.search), {}, {\n      backgroundColor: darkTheme ? \"black\" : \"lightgrey\",\n      color: darkTheme ? \"white\" : \"black\"\n    }),\n    onChangeText: function onChangeText(text) {\n      return handleSearch(text);\n    },\n    placeholder: \"Search for news\",\n    placeholderTextColor: darkTheme ? \"white\" : \"grey\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.searchResults,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, searchResults.slice(0, 10).map(function (n) {\n    return React.createElement(TouchableOpacity, {\n      key: n.title,\n      activeOpacity: 0.7,\n      onPress: function onPress() {\n        return handleModal(n);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread(_objectSpread({}, styles.singleResult), {}, {\n        backgroundColor: darkTheme ? \"black\" : \"white\",\n        color: darkTheme ? \"white\" : \"black\"\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, n.title));\n  })), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setModalVisible(!modalVisible);\n    },\n    style: {\n      position: \"absolute\",\n      zIndex: 1,\n      right: 0,\n      margin: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(Entypo, {\n    name: \"circle-with-cross\",\n    size: 30,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: {\n      height: \"100%\",\n      transform: [{\n        scaleY: -1\n      }]\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, React.createElement(SingleNews, {\n    item: currentNews,\n    darkTheme: darkTheme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Search;\nvar styles = StyleSheet.create({\n  search: {\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    borderRadius: 10,\n    fontSize: 15,\n    marginBottom: 15\n  },\n  searchResults: {\n    position: \"absolute\",\n    zIndex: 1,\n    top: 50\n  },\n  singleResult: {\n    borderRadius: 5,\n    padding: 10,\n    margin: 0.5,\n    shadowColor: \"black\",\n    elevation: 5\n  }\n});","map":{"version":3,"sources":["/home/thebeliverbot/Desktop/practice-stuff/news-app/components/Search.js"],"names":["React","useContext","useState","NewsContext","SingleNews","Entypo","Search","darkTheme","articles","news","searchResults","setSearchResults","modalVisible","setModalVisible","currentNews","setCurrentNews","handleSearch","text","filter","query","title","includes","handleModal","n","width","position","styles","search","backgroundColor","color","slice","map","singleResult","zIndex","right","margin","height","transform","scaleY","StyleSheet","create","paddingVertical","paddingHorizontal","borderRadius","fontSize","marginBottom","top","padding","shadowColor","elevation"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport {\n  Dimensions,\n  Modal,\n  StyleSheet,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { NewsContext } from \"../API/Context\";\nimport SingleNews from \"./SingleNews\";\nimport { Entypo } from \"@expo/vector-icons\";\n\nconst Search = () => {\n  const {\n    darkTheme,\n    news: { articles },\n  } = useContext(NewsContext);\n\n  const [searchResults, setSearchResults] = useState([]);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [currentNews, setCurrentNews] = useState();\n\n  const handleSearch = (text) => {\n    if (!text) {\n      setSearchResults([]);\n      return;\n    }\n    setSearchResults(articles.filter((query) => query.title.includes(text)));\n  };\n\n  const handleModal = (n) => {\n    setModalVisible(true);\n    setCurrentNews(n);\n  };\n\n  return (\n    <View style={{ width: \"100%\", position: \"relative\" }}>\n      <TextInput\n        style={{\n          ...styles.search,\n          backgroundColor: darkTheme ? \"black\" : \"lightgrey\",\n          color: darkTheme ? \"white\" : \"black\",\n        }}\n        onChangeText={(text) => handleSearch(text)}\n        placeholder=\"Search for news\"\n        placeholderTextColor={darkTheme ? \"white\" : \"grey\"}\n      />\n      <View style={styles.searchResults}>\n        {searchResults.slice(0, 10).map((n) => (\n          <TouchableOpacity\n            key={n.title}\n            activeOpacity={0.7}\n            onPress={() => handleModal(n)}\n          >\n            <Text\n              style={{\n                ...styles.singleResult,\n                backgroundColor: darkTheme ? \"black\" : \"white\",\n                color: darkTheme ? \"white\" : \"black\",\n              }}\n            >\n              {n.title}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible}\n        onRequestClose={() => {\n          setModalVisible(!modalVisible);\n        }}\n      >\n        <TouchableOpacity\n          onPress={() => setModalVisible(!modalVisible)}\n          style={{\n            position: \"absolute\",\n            zIndex: 1,\n            right: 0,\n            margin: 20,\n          }}\n        >\n          <Entypo name=\"circle-with-cross\" size={30} color=\"white\" />\n        </TouchableOpacity>\n        <View style={{ height: \"100%\", transform: [{ scaleY: -1 }] }}>\n          <SingleNews item={currentNews} darkTheme={darkTheme} />\n        </View>\n      </Modal>\n    </View>\n  );\n};\n\nexport default Search;\n\nconst styles = StyleSheet.create({\n  search: {\n    paddingVertical: 10,\n    paddingHorizontal: 15,\n    borderRadius: 10,\n    fontSize: 15,\n    marginBottom: 15,\n  },\n  searchResults: {\n    position: \"absolute\",\n    zIndex: 1,\n    top: 50,\n  },\n  singleResult: {\n    borderRadius: 5,\n    padding: 10,\n    margin: 0.5,\n    shadowColor: \"black\",\n    elevation: 5,\n  },\n});"]},"metadata":{},"sourceType":"module"}